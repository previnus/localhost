function ulp_subscribe_facebook(c){"undefined"!=typeof FB&&ulp_facebook_initialized&&FB.login(function(b){"connected"===b.status?FB.api("/me?fields=name,email",function(g){if("undefined"!=typeof g.email){var b="";"undefined"!=typeof g.name&&(b=g.name);ulp_subscribe_social(c,"facebook",g.email,b)}else console.log(g)}):console.log(b)},{scope:"public_profile,email",auth_type:"rerequest"});return!1}function ulp_google_load(){gapi.client.setApiKey(ulp_google_apikey)}
function ulp_subscribe_google(c){"undefined"!=typeof gapi&&gapi.auth.authorize({client_id:ulp_google_clientid,scope:"https://www.googleapis.com/auth/userinfo.email",immediate:!1},function(b){b&&!b.error?gapi.client.load("oauth2","v2",function(){gapi.client.oauth2.userinfo.get().execute(function(b){if("undefined"!=typeof b.email){var g="";"undefined"!=typeof b.name&&(g=b.name);ulp_subscribe_social(c,"google",b.email,g)}else console.log(b)})}):console.log(b)})}
function ulp_subscribe_social(c,b,g,m){if(ulp_subscribing)return!1;ulp_subscribing=!0;var h=jQuery(c).parents(".ulp-inline-window").attr("id");if(h)return _ulp_inline_subscribe_social(h,c,b,g,m),!1;var h="",f=jQuery(c).attr("data-fa");f?(f="<i class='fa "+f+"'></i>&nbsp; ",h="<i class='fa fa-spinner fa-spin'></i>&nbsp; "):f="";var l=jQuery(c).attr("data-label"),k=jQuery(c).attr("data-loading");k&&""!=k||(k="Loading...");jQuery(c).html(h+k);jQuery.post(ulp_ajax_url,{"ulp-name":m,"ulp-email":g,"ulp-phone":"",
"ulp-message":"","ulp-popup":ulp_active_window_id,"ulp-campaign":ulp_active_campaign,action:"ulp_subscribe"},function(k){var a;jQuery(c).html(f+l);try{if(a=jQuery.parseJSON(k),"OK"==a.status){var e=180;"undefined"!=typeof a.cookie_lifetime&&(e=parseInt(a.cookie_lifetime,10));if(0<e){if(ulp_active_window_id==ulp_onload_popup||ulp_active_campaign==ulp_onload_popup&&""!=ulp_onload_popup||"on"==ulp_onexit_limits&&""!=ulp_onload_popup)ulp_write_cookie("ulp-onload-"+ulp_onload_popup,ulp_cookie_value,e),
ulp_onload_displayed=!0;if(ulp_active_window_id==ulp_onexit_popup||ulp_active_campaign==ulp_onexit_popup&&""!=ulp_onexit_popup||"on"==ulp_onexit_limits&&""!=ulp_onexit_popup)ulp_write_cookie("ulp-onexit-"+ulp_onexit_popup,ulp_cookie_value,e),ulp_onexit_displayed=!0;if(ulp_active_window_id==ulp_onscroll_popup||ulp_active_campaign==ulp_onscroll_popup&&""!=ulp_onscroll_popup||"on"==ulp_onexit_limits&&""!=ulp_onscroll_popup)ulp_write_cookie("ulp-onscroll-"+ulp_onscroll_popup,ulp_cookie_value,e),ulp_onscroll_displayed=
!0;if(ulp_active_window_id==ulp_onidle_popup||ulp_active_campaign==ulp_onidle_popup&&""!=ulp_onidle_popup||"on"==ulp_onexit_limits&&""!=ulp_onidle_popup)ulp_write_cookie("ulp-onidle-"+ulp_onidle_popup,ulp_cookie_value,e),ulp_onidle_displayed=!0;if(ulp_active_window_id==ulp_onabd_popup||ulp_active_campaign==ulp_onabd_popup&&""!=ulp_onabd_popup||"on"==ulp_onexit_limits&&""!=ulp_onabd_popup)ulp_write_cookie("ulp-onabd-"+ulp_onabd_popup,ulp_cookie_value,e),ulp_onabd_displayed=!0;ulp_write_cookie("ulp-inline-"+
ulp_active_window_id,ulp_cookie_value,e);ulp_write_cookie("ulp-"+ulp_active_window_id,ulp_cookie_value,e)}if("undefined"!=typeof a.forms){var q=a.forms,d;for(d in q)q.hasOwnProperty(d)&&(jQuery("body").append(q[d]),jQuery("#submit-"+d).click())}ulp_track(ulp_active_window_id,"layered-popup","subscribe-"+b,g);_ulp_open(ulp_active_window_id,!1,!1);e=0;a.close_delay&&(e=a.close_delay);ulp_unlock_links(ulp_active_window_id);var n=a.return_url;0<ulp_forced_location.length&&(n=ulp_forced_location);var h=
a.thanksgiving_popup;setTimeout(function(){0<n.length?(ulp_self_close(),ulp_subscribing=!1,"#refresh"==n?location.reload(!0):location.href=n):0<h.length?(ulp_subscribing=!1,ulp_open(h)):(ulp_self_close(),ulp_subscribing=!1)},e)}else ulp_subscribing=!1,console.log(k)}catch(p){ulp_subscribing=!1,console.log(k)}});return!1}
function _ulp_inline_subscribe_social(c,b,g,m,h){var f=jQuery("#"+c).attr("data-id"),l="",k=jQuery(b).attr("data-fa");k?(k="<i class='fa "+k+"'></i>&nbsp; ",l="<i class='fa fa-spinner fa-spin'></i>&nbsp; "):k="";var t=jQuery(b).attr("data-label"),a=jQuery(b).attr("data-loading");a&&""!=a||(a="Loading...");jQuery(b).html(l+a);jQuery.post(ulp_ajax_url,{"ulp-name":h,"ulp-email":m,"ulp-phone":"","ulp-message":"","ulp-popup":f,"ulp-campaign":"",action:"ulp_subscribe"},function(e){ulp_subscribing=!1;var a;
jQuery(b).html(k+t);try{if(a=jQuery.parseJSON(e),"OK"==a.status){var d=180;"undefined"!=typeof a.cookie_lifetime&&(d=parseInt(a.cookie_lifetime,10));if(0<d){if(f==ulp_onload_popup||"on"==ulp_onexit_limits&&""!=ulp_onload_popup)ulp_write_cookie("ulp-onload-"+ulp_onload_popup,ulp_cookie_value,d),ulp_onload_displayed=!0;if(f==ulp_onexit_popup||"on"==ulp_onexit_limits&&""!=ulp_onexit_popup)ulp_write_cookie("ulp-onexit-"+ulp_onexit_popup,ulp_cookie_value,d),ulp_onexit_displayed=!0;if(f==ulp_onscroll_popup||
"on"==ulp_onexit_limits&&""!=ulp_onscroll_popup)ulp_write_cookie("ulp-onscroll-"+ulp_onscroll_popup,ulp_cookie_value,d),ulp_onscroll_displayed=!0;if(f==ulp_onidle_popup||"on"==ulp_onexit_limits&&""!=ulp_onidle_popup)ulp_write_cookie("ulp-onidle-"+ulp_onidle_popup,ulp_cookie_value,d),ulp_onidle_displayed=!0;if(f==ulp_onabd_popup||"on"==ulp_onexit_limits&&""!=ulp_onabd_popup)ulp_write_cookie("ulp-onabd-"+ulp_onabd_popup,ulp_cookie_value,d),ulp_onabd_displayed=!0;ulp_write_cookie("ulp-inline-"+f,ulp_cookie_value,
d);ulp_write_cookie("ulp-"+f,ulp_cookie_value,d)}if("undefined"!=typeof a.forms){var h=a.forms,l;for(l in h)h.hasOwnProperty(l)&&(jQuery("body").append(h[l]),jQuery("#submit-"+l).click())}ulp_track(c,"layered-inline","subscribe-"+g,m);_ulp_inline_open(c,!1,!0);"function"==typeof ulp_inline_subscribed&&ulp_inline_subscribed(c,a);ulp_unlock_links(f);var p=a.return_url,d=0;a.close_delay&&(d=parseInt(a.close_delay,10));var r=a.thanksgiving_popup;setTimeout(function(){_ulp_inline_hide_confirmation(c);
0<p.length&&("#refresh"==p?location.reload(!0):location.href=p);0<r.length&&ulp_open(r)},d)}else console.log(e)}catch(u){console.log(e)}});return!1};